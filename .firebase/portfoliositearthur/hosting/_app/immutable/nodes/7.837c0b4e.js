import{_ as Z,R as $,k as ee,l as te,m as ae,e as ne}from"../chunks/firebase.2a115845.js";import{H as se}from"../chunks/control.f5b05b5f.js";import{s as oe,g as k,c as q,l as C,F as re,h as E,d as H,i as M,m as G,k as P,B as K,w as j,G as le}from"../chunks/scheduler.283841f9.js";import{S as ce,i as ie,d as D,q as Q,v as ue,e as v,g as m,n as _,a as V,s as W}from"../chunks/index.c9f7c5ae.js";function X(e,a){if(isNaN(e)||e<400||e>599)throw new Error(`HTTP error status codes must be between 400 and 599 â€” ${e} is invalid`);return new se(e,a)}new TextEncoder;const de=async({params:e})=>{var u,s;const a=Z(ne,"users"),o=$(a,te("username","==",e.username),ee(1)),i=await ae(o),b=(u=i.docs[0])==null?void 0:u.exists(),t=(s=i.docs[0])==null?void 0:s.data();if(!b)throw X(404,"that user does not exist!");if(!t.published)throw X(403,`The profile of @${t.username} is not public!`);return{username:t.username,photoURL:t.photoURL,bio:t.bio,links:t.links??[]}},ge=Object.freeze(Object.defineProperty({__proto__:null,load:de},Symbol.toStringTag,{value:"Module"})),R="src/routes/login/username/[username]/+page.svelte";function Y(e,a,o){const i=e.slice();return i[1]=a[o],i}function I(e){const a={c:function(){{const i=e[1];console.log({item:i});debugger}},l:j,m:j,d:j};return D("SvelteRegisterBlock",{block:a,id:I.name,type:"each",source:"(25:6) {#each data.links as item}",ctx:e}),a}function z(e){let a,o,i,b,t,u,s,y=e[0].username+"",x,N,h,S,O,w,L=(e[0].bio??"no bio yet...")+"",T,B,p;document.title=a="@"+e[0].username+" Links";let g=Q(e[0].links),c=[];for(let f=0;f<g.length;f+=1)c[f]=I(Y(e,g,f));const F={c:function(){o=k("meta"),b=q(),t=k("main"),u=k("h1"),s=C("@"),x=C(y),N=q(),h=k("img"),O=q(),w=k("p"),T=C(L),B=q(),p=k("ul");for(let n=0;n<c.length;n+=1)c[n].c();this.h()},l:function(n){const d=re("svelte-2pftis",document.head);o=E(d,"META",{name:!0,content:!0}),d.forEach(v),b=H(n),t=E(n,"MAIN",{class:!0});var r=M(t);u=E(r,"H1",{class:!0});var l=M(u);s=G(l,"@"),x=G(l,y),l.forEach(v),N=H(r),h=E(r,"IMG",{src:!0,alt:!0,width:!0,class:!0}),O=H(r),w=E(r,"P",{class:!0});var U=M(w);T=G(U,L),U.forEach(v),B=H(r),p=E(r,"UL",{class:!0});var J=M(p);for(let A=0;A<c.length;A+=1)c[A].l(J);J.forEach(v),r.forEach(v),this.h()},h:function(){m(o,"name","description"),m(o,"content",i=e[0].bio),P(o,R,9,4,110),m(u,"class","text-7xl text-purple-500"),P(u,R,15,4,233),K(h.src,S=e[0].photoURL??"/user.png")||m(h,"src",S),m(h,"alt","photoURL"),m(h,"width","256"),m(h,"class","mx-auto"),P(h,R,19,4,311),m(w,"class","text-xl my-8"),P(w,R,26,4,432),m(p,"class","list-none"),P(p,R,27,4,494),m(t,"class","prose text-center mx-auto mt-8"),P(t,R,13,2,182)},m:function(n,d){_(document.head,o),V(n,b,d),V(n,t,d),_(t,u),_(u,s),_(u,x),_(t,N),_(t,h),_(t,O),_(t,w),_(w,T),_(t,B),_(t,p);for(let r=0;r<c.length;r+=1)c[r]&&c[r].m(p,null)},p:function(n,[d]){if(d&1&&a!==(a="@"+n[0].username+" Links")&&(document.title=a),d&1&&i!==(i=n[0].bio)&&m(o,"content",i),d&1&&y!==(y=n[0].username+"")&&W(x,y),d&1&&!K(h.src,S=n[0].photoURL??"/user.png")&&m(h,"src",S),d&1&&L!==(L=(n[0].bio??"no bio yet...")+"")&&W(T,L),d&1){const r=g.length;g=Q(n[0].links);let l;for(l=r;l<g.length;l+=1){const U=Y(n,g,l);c[l]||(c[l]=I(U),c[l].c(),c[l].m(p,null))}for(l=g.length;l<r;l+=1)c[l].d(1);c.length=g.length}},i:j,o:j,d:function(n){n&&(v(b),v(t)),v(o),le(c,n)}};return D("SvelteRegisterBlock",{block:F,id:z.name,type:"component",source:"",ctx:e}),F}function me(e,a,o){let{$$slots:i={},$$scope:b}=a;ue("Page",i,[]);let{data:t}=a;e.$$.on_mount.push(function(){t===void 0&&!("data"in a||e.$$.bound[e.$$.props.data])&&console.warn("<Page> was created without expected prop 'data'")});const u=["data"];return Object.keys(a).forEach(s=>{!~u.indexOf(s)&&s.slice(0,2)!=="$$"&&s!=="slot"&&console.warn(`<Page> was created with unknown prop '${s}'`)}),e.$$set=s=>{"data"in s&&o(0,t=s.data)},e.$capture_state=()=>({data:t}),e.$inject_state=s=>{"data"in s&&o(0,t=s.data)},a&&"$$inject"in a&&e.$inject_state(a.$$inject),[t]}class ve extends ce{constructor(a){super(a),ie(this,a,me,z,oe,{data:0}),D("SvelteRegisterComponent",{component:this,tagName:"Page",options:a,id:z.name})}get data(){throw new Error("<Page>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set data(a){throw new Error("<Page>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}export{ve as component,ge as universal};
