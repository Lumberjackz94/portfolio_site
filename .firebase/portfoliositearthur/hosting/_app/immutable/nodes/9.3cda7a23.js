import{w as A,I as te,s as kt,g as C,c as T,l as vt,h as L,i as x,d as N,m as yt,B as Bt,k as S,J as ee,K as jt,e as et,n as ne,z as Q,A as It,D as ct,u as se,p as oe,q as ie,E as At,v as Y,r as X,L as le,M as re,y as ae,N as Pt,C as K,G as ce}from"../chunks/scheduler.283841f9.js";import{u as ue,w as fe,x as de,y as he,S as wt,i as Ct,d as P,v as Lt,e as v,g as p,a as I,n as w,s as me,h as St,t as H,c as Rt,b as q,q as nt,z as Ut,A as _e,p as M,B as pe,j as Ft,k as qt,m as zt,l as Gt,r as ge}from"../chunks/index.c9f7c5ae.js";import{p as ot}from"../chunks/stores.d8ffc7f2.js";import{c as be}from"../chunks/index.40b40403.js";import{e as Z,c as it,u as lt,n as Ot,Q as Tt,g as $,o as Nt,f as rt}from"../chunks/firebase.2a115845.js";import{w as Vt}from"../chunks/index.145e5b94.js";function ke(n,t,e,i){if(!t)return A;const s=n.getBoundingClientRect();if(t.left===s.left&&t.right===s.right&&t.top===s.top&&t.bottom===s.bottom)return A;const{delay:l=0,duration:o=300,easing:f=te,start:r=ue()+l,end:a=r+o,tick:c=A,css:m}=e(n,{from:t,to:s},i);let _=!0,d=!1,u;function h(){m&&(u=de(n,0,1,o,l,f,m)),l||(d=!0)}function b(){m&&he(n,u),_=!1}return fe(O=>{if(!d&&O>=r&&(d=!0),d&&O>=a&&(c(1,0),b()),!_)return!1;if(d){const V=O-r,z=0+1*f(V/o);c(z,1-z)}return!0}),h(),c(0,1),b}function ve(n){const t=getComputedStyle(n);if(t.position!=="absolute"&&t.position!=="fixed"){const{width:e,height:i}=t,s=n.getBoundingClientRect();n.style.position="absolute",n.style.width=e,n.style.height=i,ye(n,s)}}function ye(n,t){const e=n.getBoundingClientRect();if(t.left!==e.left||t.top!==e.top){const i=getComputedStyle(n),s=i.transform==="none"?"":i.transform;n.style.transform=`${s} translate(${t.left-e.left}px, ${t.top-e.top}px)`}}function we(n,t){const e={},i={},s={$$scope:1};let l=n.length;for(;l--;){const o=n[l],f=t[l];if(f){for(const r in o)r in f||(i[r]=1);for(const r in f)s[r]||(e[r]=f[r],s[r]=1);n[l]=f}else for(const r in o)s[r]=1}for(const o in i)o in e||(e[o]=void 0);return e}function Ce(n){return typeof n=="object"&&n!==null?n:{}}const at="src/lib/components/UserLink.svelte";function ut(n){let t,e,i,s,l,o;const f={c:function(){t=C("a"),e=C("img"),s=T(),l=C("span"),o=vt(n[2]),this.h()},l:function(a){t=L(a,"A",{href:!0,class:!0});var c=x(t);e=L(c,"IMG",{src:!0,alt:!0,width:!0,height:!0,class:!0}),s=N(c),l=L(c,"SPAN",{class:!0});var m=x(l);o=yt(m,n[2]),m.forEach(v),c.forEach(v),this.h()},h:function(){Bt(e.src,i=`/${n[0]}.png`)||p(e,"src",i),p(e,"alt",n[0]),p(e,"width","32"),p(e,"height","32"),p(e,"class","w-8"),S(e,at,8,2,266),p(l,"class","text-lg text-white font-bold"),S(l,at,9,2,343),p(t,"href",n[1]),p(t,"class","stack w-full max-w-md text-center bg-base-300 flex justify-center items-center p-4 rounded-lg not-prose no-underline"),S(t,at,7,0,124)},m:function(a,c){I(a,t,c),w(t,e),w(t,s),w(t,l),w(l,o)},p:function(a,[c]){c&1&&!Bt(e.src,i=`/${a[0]}.png`)&&p(e,"src",i),c&1&&p(e,"alt",a[0]),c&4&&me(o,a[2]),c&2&&p(t,"href",a[1])},i:A,o:A,d:function(a){a&&v(t)}};return P("SvelteRegisterBlock",{block:f,id:ut.name,type:"component",source:"",ctx:n}),f}function Le(n,t,e){let{$$slots:i={},$$scope:s}=t;Lt("UserLink",i,[]);let{icon:l="default"}=t,{url:o="foo"}=t,{title:f="some cool title"}=t;const r=["icon","url","title"];return Object.keys(t).forEach(a=>{!~r.indexOf(a)&&a.slice(0,2)!=="$$"&&a!=="slot"&&console.warn(`<UserLink> was created with unknown prop '${a}'`)}),n.$$set=a=>{"icon"in a&&e(0,l=a.icon),"url"in a&&e(1,o=a.url),"title"in a&&e(2,f=a.title)},n.$capture_state=()=>({icon:l,url:o,title:f}),n.$inject_state=a=>{"icon"in a&&e(0,l=a.icon),"url"in a&&e(1,o=a.url),"title"in a&&e(2,f=a.title)},t&&"$$inject"in t&&n.$inject_state(t.$$inject),[l,o,f]}class Ht extends wt{constructor(t){super(t),Ct(this,t,Le,ut,kt,{icon:0,url:1,title:2}),P("SvelteRegisterComponent",{component:this,tagName:"UserLink",options:t,id:ut.name})}get icon(){throw new Error("<UserLink>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set icon(t){throw new Error("<UserLink>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get url(){throw new Error("<UserLink>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set url(t){throw new Error("<UserLink>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get title(){throw new Error("<UserLink>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set title(t){throw new Error("<UserLink>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}function Qt(n,{from:t,to:e},i={}){const s=getComputedStyle(n),l=s.transform==="none"?"":s.transform,[o,f]=s.transformOrigin.split(" ").map(parseFloat),r=t.left+t.width*o/e.width-(e.left+o),a=t.top+t.height*f/e.height-(e.top+f),{delay:c=0,duration:m=d=>Math.sqrt(d)*120,easing:_=be}=i;return{delay:c,duration:ee(m)?m(Math.sqrt(r*r+a*a)):m,easing:_,css:(d,u)=>{const h=u*r,b=u*a,O=d+u*t.width/e.width,V=d+u*t.height/e.height;return`transform: ${l} translate(${h}px, ${b}px) scale(${O}, ${V});`}}}const Et="src/lib/components/SortableList.svelte";function tt(n,t,e){const i=n.slice();return i[9]=t[e],i[11]=e,i}const Se=n=>({item:n&1,index:n&1}),Mt=n=>({item:n[9],index:n[11]});function Jt(n){let t,e="No items";const i={c:function(){t=C("p"),t.textContent=e,this.h()},l:function(l){t=L(l,"P",{class:!0,"data-svelte-h":!0}),Q(t)!=="svelte-1jmwi8z"&&(t.textContent=e),this.h()},h:function(){p(t,"class","text-center my-12 text-lg font-bold"),S(t,Et,74,4,1748)},m:function(l,o){I(l,t,o)},p:A,i:A,o:A,d:function(l){l&&v(t)}};return P("SvelteRegisterBlock",{block:i,id:Jt.name,type:"else",source:"(60:2) {:else}",ctx:n}),i}function Kt(n){let t,e=[],i=new Map,s,l=nt(n[0]);const o=r=>r[9].id;Ut(n,l,tt,o);for(let r=0;r<l.length;r+=1){let a=tt(n,l,r),c=o(a);i.set(c,e[r]=ft(c,a))}const f={c:function(){t=C("ul");for(let a=0;a<e.length;a+=1)e[a].c();this.h()},l:function(a){t=L(a,"UL",{class:!0});var c=x(t);for(let m=0;m<e.length;m+=1)e[m].l(c);c.forEach(v),this.h()},h:function(){p(t,"class","list-none p-0 flex flex-col items-center"),S(t,Et,55,4,1112)},m:function(a,c){I(a,t,c);for(let m=0;m<e.length;m+=1)e[m]&&e[m].m(t,null);s=!0},p:function(a,c){if(c&63){l=nt(a[0]),St();for(let m=0;m<e.length;m+=1)e[m].r();Ut(a,l,tt,o),e=_e(e,c,o,1,a,l,i,t,pe,ft,null,tt);for(let m=0;m<e.length;m+=1)e[m].a();Rt()}},i:function(a){if(!s){for(let c=0;c<l.length;c+=1)q(e[c]);s=!0}},o:function(a){for(let c=0;c<e.length;c+=1)H(e[c]);s=!1},d:function(a){a&&v(t);for(let c=0;c<e.length;c+=1)e[c].d()}};return P("SvelteRegisterBlock",{block:f,id:Kt.name,type:"if",source:"(41:2) {#if list?.length}",ctx:n}),f}function ft(n,t){let e,i,s,l,o,f=A,r,a,c;const m=t[6].default,_=ne(m,t,t[5],Mt),d={key:n,first:null,c:function(){e=C("li"),_&&_.c(),i=T(),this.h()},l:function(h){e=L(h,"LI",{class:!0,"data-index":!0,"data-id":!0,draggable:!0});var b=x(e);_&&_.l(b),i=N(b),b.forEach(v),this.h()},h:function(){p(e,"class","border-2 border-dashed border-transparent p-2 transition-all max-w-md w-full s-bF1CfGpt5Wxa"),p(e,"data-index",s=t[11]),p(e,"data-id",l=t[9].id),p(e,"draggable","true"),It(e,"over",t[9].id===t[1]),S(e,Et,57,8,1218),this.first=e},m:function(h,b){I(h,e,b),_&&_.m(e,null),w(e,i),r=!0,a||(c=[M(e,"dragstart",Wt,!1,!1,!1,!1),M(e,"dragover",ct(t[2]),!1,!0,!1,!1),M(e,"dragleave",t[3],!1,!1,!1,!1),M(e,"drop",ct(t[4]),!1,!0,!1,!1)],a=!0)},p:function(h,b){t=h,_&&_.p&&(!r||b&33)&&se(_,m,t,t[5],r?ie(m,t[5],b,Se):oe(t[5]),Mt),(!r||b&1&&s!==(s=t[11]))&&p(e,"data-index",s),(!r||b&1&&l!==(l=t[9].id))&&p(e,"data-id",l),(!r||b&3)&&It(e,"over",t[9].id===t[1])},r:function(){o=e.getBoundingClientRect()},f:function(){ve(e),f()},a:function(){f(),f=ke(e,o,Qt,{duration:300})},i:function(h){r||(q(_,h),r=!0)},o:function(h){H(_,h),r=!1},d:function(h){h&&v(e),_&&_.d(h),a=!1,At(c)}};return P("SvelteRegisterBlock",{block:d,id:ft.name,type:"each",source:"(43:6) {#each list as item, index (item.id)}",ctx:t}),d}function dt(n){let t,e,i,s;const l=[Kt,Jt],o=[];function f(a,c){var m;return(m=a[0])!=null&&m.length?0:1}t=f(n),e=o[t]=l[t](n);const r={c:function(){e.c(),i=et()},l:function(c){e.l(c),i=et()},m:function(c,m){o[t].m(c,m),I(c,i,m),s=!0},p:function(c,[m]){let _=t;t=f(c),t===_?o[t].p(c,m):(St(),H(o[_],1,1,()=>{o[_]=null}),Rt(),e=o[t],e?e.p(c,m):(e=o[t]=l[t](c),e.c()),q(e,1),e.m(i.parentNode,i))},i:function(c){s||(q(e),s=!0)},o:function(c){H(e),s=!1},d:function(c){c&&v(i),o[t].d(c)}};return P("SvelteRegisterBlock",{block:r,id:dt.name,type:"component",source:"",ctx:n}),r}function J(n){return n.dataset.index?{...n.dataset}:J(n.parentNode)}function Wt(n){var e;const t=J(n.target);(e=n.dataTransfer)==null||e.setData("source",t==null?void 0:t.index.toString())}function Re(n,t,e){let{$$slots:i={},$$scope:s}=t;Lt("SortableList",i,["default"]);let{list:l}=t,o=!1;const f=jt();function r(d){var h;(h=d.target.dataset)==null||h.id;const u=J(d.target);e(1,o=(u==null?void 0:u.id)??!1)}function a(d){const u=J(d.target);o===u.id&&e(1,o=!1)}function c(d){var h;e(1,o=!1);const u=J(d.target);m({from:(h=d.dataTransfer)==null?void 0:h.getData("source"),to:u.index})}const m=({from:d,to:u})=>{const h=[...l];h[d]=[h[u],h[u]=h[d]][0],f("sort",h)};n.$$.on_mount.push(function(){l===void 0&&!("list"in t||n.$$.bound[n.$$.props.list])&&console.warn("<SortableList> was created without expected prop 'list'")});const _=["list"];return Object.keys(t).forEach(d=>{!~_.indexOf(d)&&d.slice(0,2)!=="$$"&&d!=="slot"&&console.warn(`<SortableList> was created with unknown prop '${d}'`)}),n.$$set=d=>{"list"in d&&e(0,l=d.list),"$$scope"in d&&e(5,s=d.$$scope)},n.$capture_state=()=>({flip:Qt,createEventDispatcher:jt,list:l,isOver:o,dispatch:f,getDraggedParent:J,onDragStart:Wt,onDragOver:r,onDragLeave:a,onDrop:c,reorder:m}),n.$inject_state=d=>{"list"in d&&e(0,l=d.list),"isOver"in d&&e(1,o=d.isOver)},t&&"$$inject"in t&&n.$inject_state(t.$$inject),[l,o,r,a,c,s,i]}class Yt extends wt{constructor(t){super(t),Ct(this,t,Re,dt,kt,{list:0}),P("SvelteRegisterComponent",{component:this,tagName:"SortableList",options:t,id:dt.name})}get list(){throw new Error("<SortableList>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set list(t){throw new Error("<SortableList>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const U="src/routes/login/username/[username]/edit/+page.svelte";function xt(n,t,e){const i=n.slice();return i[20]=t[e],i}function ht(n){var _;let t,e="Edit your Profile",i,s,l,o,f;s=new Yt({props:{list:(_=n[5])==null?void 0:_.links,$$slots:{default:[Xt,({item:d})=>({23:d}),({item:d})=>d?8388608:0]},$$scope:{ctx:n}},$$inline:!0}),s.$on("sort",n[10]);function r(d,u){return d[3]?$t:Zt}let a=r(n),c=a(n);const m={c:function(){t=C("h1"),t.textContent=e,i=T(),Ft(s.$$.fragment),l=T(),c.c(),o=et(),this.h()},l:function(u){t=L(u,"H1",{class:!0,"data-svelte-h":!0}),Q(t)!=="svelte-k6uny7"&&(t.textContent=e),i=N(u),qt(s.$$.fragment,u),l=N(u),c.l(u),o=et(),this.h()},h:function(){p(t,"class","mx-2 text-2xl font-bold mt-8 mb-4 text-center"),S(t,U,77,4,1551)},m:function(u,h){I(u,t,h),I(u,i,h),zt(s,u,h),I(u,l,h),c.m(u,h),I(u,o,h),f=!0},p:function(u,h){var O;const b={};h&32&&(b.list=(O=u[5])==null?void 0:O.links),h&25165824&&(b.$$scope={dirty:h,ctx:u}),s.$set(b),a===(a=r(u))&&c?c.p(u,h):(c.d(1),c=a(u),c&&(c.c(),c.m(o.parentNode,o)))},i:function(u){f||(q(s.$$.fragment,u),f=!0)},o:function(u){H(s.$$.fragment,u),f=!1},d:function(u){u&&(v(t),v(i),v(l),v(o)),Gt(s,u),c.d(u)}};return P("SvelteRegisterBlock",{block:m,id:ht.name,type:"if",source:"(67:2) {#if $userData?.username == $page.params.username}",ctx:n}),m}function Xt(n){let t,e,i,s,l="Delete",o,f,r;const a=[n[23]];let c={};for(let d=0;d<a.length;d+=1)c=le(c,a[d]);e=new Ht({props:c,$$inline:!0});function m(){return n[13](n[23])}const _={c:function(){t=C("div"),Ft(e.$$.fragment),i=T(),s=C("button"),s.textContent=l,this.h()},l:function(u){t=L(u,"DIV",{class:!0});var h=x(t);qt(e.$$.fragment,h),i=N(h),s=L(h,"BUTTON",{class:!0,"data-svelte-h":!0}),Q(s)!=="svelte-1n5cbwc"&&(s.textContent=l),h.forEach(v),this.h()},h:function(){p(s,"class","btn btn-xs btn-error invisible group-hover:visible transition-all absolute -right-6 bottom-10"),S(s,U,84,8,1790),p(t,"class","group relative"),S(t,U,82,6,1722)},m:function(u,h){I(u,t,h),zt(e,t,null),w(t,i),w(t,s),o=!0,f||(r=M(s,"click",m,!1,!1,!1,!1),f=!0)},p:function(u,h){n=u;const b=h&8388608?we(a,[Ce(n[23])]):{};e.$set(b)},i:function(u){o||(q(e.$$.fragment,u),o=!0)},o:function(u){H(e.$$.fragment,u),o=!1},d:function(u){u&&v(t),Gt(e),f=!1,r()}};return P("SvelteRegisterBlock",{block:_,id:Xt.name,type:"slot",source:"(72:4) <SortableList list={$userData?.links} on:sort={sortList} let:item>",ctx:n}),_}function Zt(n){let t,e="Add a Link",i,s;const l={c:function(){t=C("button"),t.textContent=e,this.h()},l:function(f){t=L(f,"BUTTON",{class:!0,"data-svelte-h":!0}),Q(t)!=="svelte-mf4m33"&&(t.textContent=e),this.h()},h:function(){p(t,"class","btn btn-outline btn-info block mx-auto my-4"),S(t,U,143,6,3423)},m:function(f,r){I(f,t,r),i||(s=M(t,"click",n[17],!1,!1,!1,!1),i=!0)},p:A,d:function(f){f&&v(t),i=!1,s()}};return P("SvelteRegisterBlock",{block:l,id:Zt.name,type:"else",source:"(133:4) {:else}",ctx:n}),l}function $t(n){let t,e,i,s,l,o,f,r,a,c,m,_,d,u,h,b,O="Cancel",V,z,G=nt(n[7]),E=[];for(let g=0;g<G.length;g+=1)E[g]=mt(xt(n,G,g));let D=!n[0]&&_t(n),B=!n[1]&&pt(n),j=n[4]&&gt(n);const W={c:function(){t=C("form"),e=C("select");for(let k=0;k<E.length;k+=1)E[k].c();i=T(),s=C("input"),l=T(),o=C("input"),f=T(),r=C("div"),D&&D.c(),a=T(),B&&B.c(),c=T(),j&&j.c(),m=T(),_=C("button"),d=vt("Add Link"),h=T(),b=C("button"),b.textContent=O,this.h()},l:function(k){t=L(k,"FORM",{class:!0});var y=x(t);e=L(y,"SELECT",{name:!0,class:!0});var R=x(e);for(let st=0;st<E.length;st+=1)E[st].l(R);R.forEach(v),i=N(y),s=L(y,"INPUT",{name:!0,type:!0,placeholder:!0,class:!0}),l=N(y),o=L(y,"INPUT",{name:!0,type:!0,placeholder:!0,class:!0}),f=N(y),r=L(y,"DIV",{class:!0});var F=x(r);D&&D.l(F),a=N(F),B&&B.l(F),c=N(F),j&&j.l(F),F.forEach(v),m=N(y),_=L(y,"BUTTON",{type:!0,class:!0});var Dt=x(_);d=yt(Dt,"Add Link"),Dt.forEach(v),h=N(y),b=L(y,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),Q(b)!=="svelte-27ebzp"&&(b.textContent=O),y.forEach(v),this.h()},h:function(){p(e,"name","icon"),p(e,"class","select select-sm"),n[2].icon===void 0&&ae(()=>n[14].call(e)),S(e,U,97,8,2180),p(s,"name","title"),p(s,"type","text"),p(s,"placeholder","Title"),p(s,"class","input input-sm"),S(s,U,106,8,2432),p(o,"name","url"),p(o,"type","text"),p(o,"placeholder","URL"),p(o,"class","input input-sm"),S(o,U,113,8,2605),p(r,"class","my-4"),S(r,U,120,8,2772),_.disabled=u=!n[4],p(_,"type","submit"),p(_,"class","btn btn-success block"),S(_,U,132,8,3145),p(b,"type","button"),p(b,"class","btn btn-xs my-4"),S(b,U,138,8,3287),p(t,"class","bg-base-200 p-6 w-full mx-auto rounded-xl"),S(t,U,93,6,2057)},m:function(k,y){I(k,t,y),w(t,e);for(let R=0;R<E.length;R+=1)E[R]&&E[R].m(e,null);Pt(e,n[2].icon,!0),w(t,i),w(t,s),K(s,n[2].title),w(t,l),w(t,o),K(o,n[2].url),w(t,f),w(t,r),D&&D.m(r,null),w(r,a),B&&B.m(r,null),w(r,c),j&&j.m(r,null),w(t,m),w(t,_),w(_,d),w(t,h),w(t,b),V||(z=[M(e,"change",n[14]),M(s,"input",n[15]),M(o,"input",n[16]),M(b,"click",n[12],!1,!1,!1,!1),M(t,"submit",ct(n[9]),!1,!0,!1,!1)],V=!0)},p:function(k,y){if(y&128){G=nt(k[7]);let R;for(R=0;R<G.length;R+=1){const F=xt(k,G,R);E[R]?E[R].p(F,y):(E[R]=mt(F),E[R].c(),E[R].m(e,null))}for(;R<E.length;R+=1)E[R].d(1);E.length=G.length}y&132&&Pt(e,k[2].icon),y&132&&s.value!==k[2].title&&K(s,k[2].title),y&132&&o.value!==k[2].url&&K(o,k[2].url),k[0]?D&&(D.d(1),D=null):D||(D=_t(k),D.c(),D.m(r,a)),k[1]?B&&(B.d(1),B=null):B||(B=pt(k),B.c(),B.m(r,c)),k[4]?j||(j=gt(k),j.c(),j.m(r,null)):j&&(j.d(1),j=null),y&16&&u!==(u=!k[4])&&ge(_,"disabled",u)},d:function(k){k&&v(t),ce(E,k),D&&D.d(),B&&B.d(),j&&j.d(),V=!1,At(z)}};return P("SvelteRegisterBlock",{block:W,id:$t.name,type:"if",source:"(83:4) {#if showForm}",ctx:n}),W}function mt(n){let t,e=n[20]+"",i;const s={c:function(){t=C("option"),i=vt(e),this.h()},l:function(o){t=L(o,"OPTION",{});var f=x(t);i=yt(f,e),f.forEach(v),this.h()},h:function(){t.__value=n[20].toLowerCase(),K(t,t.__value),S(t,U,103,12,2337)},m:function(o,f){I(o,t,f),w(t,i)},p:A,d:function(o){o&&v(t)}};return P("SvelteRegisterBlock",{block:s,id:mt.name,type:"each",source:"(93:10) {#each icons as icon}",ctx:n}),s}function _t(n){let t,e="Must have valid title";const i={c:function(){t=C("p"),t.textContent=e,this.h()},l:function(l){t=L(l,"P",{class:!0,"data-svelte-h":!0}),Q(t)!=="svelte-1clkdjx"&&(t.textContent=e),this.h()},h:function(){p(t,"class","text-error text-xs"),S(t,U,122,12,2833)},m:function(l,o){I(l,t,o)},d:function(l){l&&v(t)}};return P("SvelteRegisterBlock",{block:i,id:_t.name,type:"if",source:"(112:10) {#if !titleIsValid}",ctx:n}),i}function pt(n){let t,e="Must have a valid URL";const i={c:function(){t=C("p"),t.textContent=e,this.h()},l:function(l){t=L(l,"P",{class:!0,"data-svelte-h":!0}),Q(t)!=="svelte-ckpz19"&&(t.textContent=e),this.h()},h:function(){p(t,"class","text-error text-xs"),S(t,U,125,12,2945)},m:function(l,o){I(l,t,o)},d:function(l){l&&v(t)}};return P("SvelteRegisterBlock",{block:i,id:pt.name,type:"if",source:"(115:10) {#if !urlIsValid}",ctx:n}),i}function gt(n){let t,e="Looks good!";const i={c:function(){t=C("p"),t.textContent=e,this.h()},l:function(l){t=L(l,"P",{class:!0,"data-svelte-h":!0}),Q(t)!=="svelte-18u4utf"&&(t.textContent=e),this.h()},h:function(){p(t,"class","text-success text-xs"),S(t,U,128,12,3057)},m:function(l,o){I(l,t,o)},d:function(l){l&&v(t)}};return P("SvelteRegisterBlock",{block:i,id:gt.name,type:"if",source:"(118:10) {#if formIsValid}",ctx:n}),i}function bt(n){var l;let t,e,i=((l=n[5])==null?void 0:l.username)==n[6].params.username&&ht(n);const s={c:function(){t=C("main"),i&&i.c(),this.h()},l:function(f){t=L(f,"MAIN",{class:!0});var r=x(t);i&&i.l(r),r.forEach(v),this.h()},h:function(){p(t,"class","max-w-xl mx-auto"),S(t,U,75,0,1462)},m:function(f,r){I(f,t,r),i&&i.m(t,null),e=!0},p:function(f,[r]){var a;((a=f[5])==null?void 0:a.username)==f[6].params.username?i?(i.p(f,r),r&96&&q(i,1)):(i=ht(f),i.c(),q(i,1),i.m(t,null)):i&&(St(),H(i,1,1,()=>{i=null}),Rt())},i:function(f){e||(q(i),e=!0)},o:function(f){H(i),e=!1},d:function(f){f&&v(t),i&&i.d()}};return P("SvelteRegisterBlock",{block:s,id:bt.name,type:"component",source:"",ctx:n}),s}function Ee(n,t,e){let i,s,l,o,f,r,a;Y(lt,"user"),X(n,lt,g=>e(18,o=g)),Y(it,"userData"),X(n,it,g=>e(5,r=g)),Y(ot,"page"),X(n,ot,g=>e(6,a=g));let{$$slots:c={},$$scope:m}=t;Lt("Page",c,[]);const _=["Twitter","YouTube","TikTok","LinkedIn","GitHub","Custom"],d={icon:"custom",title:"",url:"https://"},u=Vt(d);Y(u,"formData"),X(n,u,g=>e(2,f=g));let h=!1;async function b(g){const k=$(Z,"users",o.uid);await rt(k,{links:Tt({...f,id:Date.now().toString()})}),u.set({icon:"",title:"",url:""}),e(3,h=!1)}function O(g){const k=g.detail,y=$(Z,"users",o.uid);Nt(y,{links:k},{merge:!0})}async function V(g){const k=$(Z,"users",o.uid);await rt(k,{links:Ot(g)})}function z(){u.set(d),e(3,h=!1)}const G=[];Object.keys(t).forEach(g=>{!~G.indexOf(g)&&g.slice(0,2)!=="$$"&&g!=="slot"&&console.warn(`<Page> was created with unknown prop '${g}'`)});const E=g=>V(g);function D(){f.icon=re(this),u.set(f),e(7,_)}function B(){f.title=this.value,u.set(f),e(7,_)}function j(){f.url=this.value,u.set(f),e(7,_)}const W=()=>e(3,h=!0);return n.$capture_state=()=>({page:ot,UserLink:Ht,SortableList:Yt,db:Z,userData:it,user:lt,arrayRemove:Ot,arrayUnion:Tt,doc:$,setDoc:Nt,updateDoc:rt,writable:Vt,icons:_,formDefaults:d,formData:u,showForm:h,addLink:b,sortList:O,deleteLink:V,cancelLink:z,titleIsValid:s,urlIsValid:i,formIsValid:l,$user:o,$formData:f,$userData:r,$page:a}),n.$inject_state=g=>{"showForm"in g&&e(3,h=g.showForm),"titleIsValid"in g&&e(0,s=g.titleIsValid),"urlIsValid"in g&&e(1,i=g.urlIsValid),"formIsValid"in g&&e(4,l=g.formIsValid)},t&&"$$inject"in t&&n.$inject_state(t.$$inject),n.$$.update=()=>{n.$$.dirty&4&&e(1,i=f.url.match(/^(ftp|http|https):\/\/[^ "]+$/)),n.$$.dirty&4&&e(0,s=f.title.length<20&&f.title.length>0),n.$$.dirty&3&&e(4,l=i&&s)},[s,i,f,h,l,r,a,_,u,b,O,V,z,E,D,B,j,W]}class Oe extends wt{constructor(t){super(t),Ct(this,t,Ee,bt,kt,{}),P("SvelteRegisterComponent",{component:this,tagName:"Page",options:t,id:bt.name})}}export{Oe as component};
